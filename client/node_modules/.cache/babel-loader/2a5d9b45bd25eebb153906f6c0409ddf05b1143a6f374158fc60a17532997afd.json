{"ast":null,"code":"import _regeneratorRuntime from\"/Users/macair/Documents/Codding/Projects/Sneakers-store/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/macair/Documents/Codding/Projects/Sneakers-store/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import axios from\"../../axios.js\";export var fetchAuth=createAsyncThunk(\"auth/fetchAuth\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(params){var _yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"auth/login\",params);case 2:_yield$axios$post=_context.sent;data=_yield$axios$post.data;return _context.abrupt(\"return\",data);case 5:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());export var fetchRegistr=createAsyncThunk(\"auth/fetchRegistr\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(params){var _yield$axios$post2,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(\"auth/register\",params);case 2:_yield$axios$post2=_context2.sent;data=_yield$axios$post2.data;return _context2.abrupt(\"return\",data);case 5:case\"end\":return _context2.stop();}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());export var fetchAuthMe=createAsyncThunk(\"auth/fetchAuthMe\",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.get(\"auth/me\");case 2:_yield$axios$get=_context3.sent;data=_yield$axios$get.data;return _context3.abrupt(\"return\",data);case 5:case\"end\":return _context3.stop();}},_callee3);})));var initialState={data:null,status:\"loading\"};var authSlice=createSlice({name:\"auth\",initialState:initialState,reducers:{logout:function logout(state){state.data=null;}},extraReducers:function extraReducers(builder){builder.addCase(fetchAuth.pending,function(state){state.data=null;state.status=\"loading\";}).addCase(fetchAuth.fulfilled,function(state,action){state.data=action.payload;state.status=\"loaded\";}).addCase(fetchAuth.rejected,function(state){state.data=null;state.status=\"error\";}).addCase(fetchRegistr.pending,function(state){state.data=null;state.status=\"loading\";}).addCase(fetchRegistr.fulfilled,function(state,action){state.data=action.payload;state.status=\"loaded\";}).addCase(fetchRegistr.rejected,function(state){state.data=null;state.status=\"error\";}).addCase(fetchAuthMe.pending,function(state){state.data=null;state.status=\"loading\";}).addCase(fetchAuthMe.fulfilled,function(state,action){state.data=action.payload;state.status=\"loaded\";}).addCase(fetchAuthMe.rejected,function(state){state.data=null;state.status=\"error\";});}});export var selectIsAuth=function selectIsAuth(state){return Boolean(state.auth.data);};export var authReducer=authSlice.reducer;var logout=authSlice.actions.logout;export{logout};","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","fetchAuth","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","params","_yield$axios$post","data","wrap","_callee$","_context","prev","next","post","sent","abrupt","stop","_x","apply","arguments","fetchRegistr","_ref2","_callee2","_yield$axios$post2","_callee2$","_context2","_x2","fetchAuthMe","_callee3","_yield$axios$get","_callee3$","_context3","get","initialState","status","authSlice","name","reducers","logout","state","extraReducers","builder","addCase","pending","fulfilled","action","payload","rejected","selectIsAuth","Boolean","auth","authReducer","reducer","actions"],"sources":["/Users/macair/Documents/Codding/Projects/Sneakers-store/client/src/redux/slices/auth.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"../../axios.js\";\n\nexport const fetchAuth = createAsyncThunk(\"auth/fetchAuth\", async (params) => {\n  const { data } = await axios.post(\"auth/login\", params);\n  return data;\n});\n\nexport const fetchRegistr = createAsyncThunk(\n  \"auth/fetchRegistr\",\n  async (params) => {\n    const { data } = await axios.post(\"auth/register\", params);\n    return data;\n  }\n);\n\nexport const fetchAuthMe = createAsyncThunk(\"auth/fetchAuthMe\", async () => {\n  const { data } = await axios.get(\"auth/me\");\n  return data;\n});\n\nconst initialState = {\n  data: null,\n  status: \"loading\",\n};\n\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    logout: (state) => {\n      state.data = null;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchAuth.pending, (state) => {\n        state.data = null;\n        state.status = \"loading\";\n      })\n      .addCase(fetchAuth.fulfilled, (state, action) => {\n        state.data = action.payload;\n        state.status = \"loaded\";\n      })\n      .addCase(fetchAuth.rejected, (state) => {\n        state.data = null;\n        state.status = \"error\";\n      })\n      .addCase(fetchRegistr.pending, (state) => {\n        state.data = null;\n        state.status = \"loading\";\n      })\n      .addCase(fetchRegistr.fulfilled, (state, action) => {\n        state.data = action.payload;\n        state.status = \"loaded\";\n      })\n      .addCase(fetchRegistr.rejected, (state) => {\n        state.data = null;\n        state.status = \"error\";\n      })\n      .addCase(fetchAuthMe.pending, (state) => {\n        state.data = null;\n        state.status = \"loading\";\n      })\n      .addCase(fetchAuthMe.fulfilled, (state, action) => {\n        state.data = action.payload;\n        state.status = \"loaded\";\n      })\n      .addCase(fetchAuthMe.rejected, (state) => {\n        state.data = null;\n        state.status = \"error\";\n      });\n  },\n});\n\nexport const selectIsAuth = (state) => Boolean(state.auth.data);\n\nexport const authReducer = authSlice.reducer;\n\nexport const { logout } = authSlice.actions;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}