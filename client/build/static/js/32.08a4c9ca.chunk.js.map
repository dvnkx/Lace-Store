{"version":3,"file":"static/js/32.08a4c9ca.chunk.js","mappings":"+OAiEA,EAnDe,WACb,IAAAA,GAA0BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/BI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GACtBI,GAAkCL,EAAAA,EAAAA,WAAS,GAAKM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAzCE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAExBG,GAASC,EAAAA,EAAAA,IAAYC,EAAAA,IACrBC,GAAWF,EAAAA,EAAAA,KAAY,SAACG,GAAK,OAAKA,EAAMC,KAAKC,IAAI,IA6BvD,OATAC,EAAAA,EAAAA,YAAU,WACJP,GACFQ,EAAAA,EAAMC,IAAI,WAADC,OAAoB,OAARP,QAAQ,IAARA,OAAQ,EAARA,EAAUQ,MAAOC,MAAK,SAACC,GAC1ClB,EAASkB,EAAIP,KAAKZ,OAClBK,GAAa,EACf,GAEJ,GAAG,CAACC,KAGFc,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mBAAkBC,SAC9BlB,GACCgB,EAAAA,EAAAA,KAACG,EAAAA,GAAO,CAACC,WAAY,QACF,IAAjBxB,EAAMyB,QACRL,EAAAA,EAAAA,KAACM,EAAAA,GAAc,KAEfN,EAAAA,EAAAA,KAACO,EAAAA,GAAe,CACd3B,MAAOA,EACP4B,eAvBe,SAACC,GAEtB,OADAf,EAAAA,EAAMgB,IAAI,WAADd,OAAoB,OAARP,QAAQ,IAARA,OAAQ,EAARA,EAAUQ,KAAO,CAAEY,OAAAA,EAAQE,KAAM,WAC/C9B,GAAS,SAAC+B,GAAI,OAAKA,EAAKC,QAAO,SAACC,GAAI,OAAKA,EAAKjB,MAAQY,CAAM,GAAC,GACtE,EAqBQM,YArCY,WAClB,IAAMC,EAAY,CAChBC,MAAMC,EAAAA,EAAAA,GAAStC,GACfuC,cAAevC,EAAMwC,KAAI,SAACN,GAAI,OAAKA,EAAKO,KAAK,IAC7CC,eAAgB1C,EAAMwC,KAAI,SAACN,GAAI,OAAKA,EAAKS,OAAO,EAAE,KAGpD7B,EAAAA,EAAM8B,MAAM,WAAD5B,OAAoB,OAARP,QAAQ,IAARA,OAAQ,EAARA,EAAUQ,KAAOmB,GAAWlB,MAAK,SAAC2B,GACvDC,MAAM,8BACN7C,EAAS,GACX,GACF,KA+BF,C","sources":["pages/Basket/Basket.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport \"./styles.css\";\n\nimport axios from \"../../axios\";\nimport { selectIsAuth } from \"../../redux/slices/auth\";\nimport { CardsSum } from \"../../helpers/CardsSum\";\n\nimport {\n  EmptyContainer,\n  Spinner,\n  BasketContainer,\n} from \"../../components/ui/index\";\n\nconst Basket = () => {\n  const [cards, setCards] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const isAuth = useSelector(selectIsAuth);\n  const userData = useSelector((state) => state.auth.data);\n\n  const handleToBuy = () => {\n    const orderData = {\n      cost: CardsSum(cards),\n      productsNames: cards.map((card) => card.model),\n      productsImages: cards.map((card) => card.images[0]),\n    };\n\n    axios.patch(`/basket:${userData?._id}`, orderData).then((_) => {\n      alert(`Your order now in proccess`);\n      setCards([]);\n    });\n  };\n\n  const handleToDelete = (cardId) => {\n    axios.put(`/basket:${userData?._id}`, { cardId, type: \"remove\" });\n    return setCards((prev) => prev.filter((card) => card._id !== cardId));\n  };\n\n  useEffect(() => {\n    if (isAuth) {\n      axios.get(`/basket:${userData?._id}`).then((res) => {\n        setCards(res.data.cards);\n        setIsLoading(false);\n      });\n    }\n  }, [isAuth]);\n\n  return (\n    <div className=\"basket-container\">\n      {isLoading ? (\n        <Spinner marginLeft={\"45%\"} />\n      ) : cards.length === 0 ? (\n        <EmptyContainer />\n      ) : (\n        <BasketContainer\n          cards={cards}\n          handleToDelete={handleToDelete}\n          handleToBuy={handleToBuy}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Basket;\n"],"names":["_useState","useState","_useState2","_slicedToArray","cards","setCards","_useState3","_useState4","isLoading","setIsLoading","isAuth","useSelector","selectIsAuth","userData","state","auth","data","useEffect","axios","get","concat","_id","then","res","_jsx","className","children","Spinner","marginLeft","length","EmptyContainer","BasketContainer","handleToDelete","cardId","put","type","prev","filter","card","handleToBuy","orderData","cost","CardsSum","productsNames","map","model","productsImages","images","patch","_","alert"],"sourceRoot":""}