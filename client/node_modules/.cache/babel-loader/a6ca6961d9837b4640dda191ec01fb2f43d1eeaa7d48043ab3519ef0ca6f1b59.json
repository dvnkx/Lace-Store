{"ast":null,"code":"import _objectSpread from\"/Users/macair/Documents/Codding/Projects/Sneakers-store/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/macair/Documents/Codding/Projects/Sneakers-store/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/macair/Documents/Codding/Projects/Sneakers-store/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from\"react\";import{useForm}from\"react-hook-form\";import{yupResolver}from\"@hookform/resolvers/yup\";import{useSelector}from\"react-redux\";import\"./styles.css\";import axios from\"../../../axios\";import{addressSchema}from\"../../../schemas\";import{UserInput}from\"../../forms/index\";import Buttons from\"../Buttons/Buttons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserAddressBlock=function UserAddressBlock(_ref){var _errors$lastName,_errors$lastName2,_errors$name,_errors$name2,_errors$surname,_errors$surname2,_errors$postIndex,_errors$postIndex2,_errors$region,_errors$region2,_errors$street,_errors$street2,_errors$city,_errors$city2,_errors$phoneNumber,_errors$phoneNumber2,_errors$email,_errors$email2;var setVisible=_ref.setVisible;var _useSelector=useSelector(function(state){return state.auth.data;}),_id=_useSelector._id;var _useForm=useForm({defaultValues:{lastName:\"\",name:\"\",surname:\"\",postIndex:\"\",region:\"\",street:\"\",city:\"\",phoneNumber:\"\",email:\"\"},resolver:yupResolver(addressSchema),mode:\"onChange\"}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,_useForm$formState=_useForm.formState,errors=_useForm$formState.errors,isValid=_useForm$formState.isValid;var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(values){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"/user/address:\".concat(_id),values);case 2:window.location.reload();case 3:case\"end\":return _context.stop();}},_callee);}));return function onSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"address-data-form\",children:[/*#__PURE__*/_jsx(UserInput,_objectSpread(_objectSpread({section:\"Last name\"},register(\"lastName\")),{},{error:Boolean((_errors$lastName=errors.lastName)===null||_errors$lastName===void 0?void 0:_errors$lastName.message),errorMessage:(_errors$lastName2=errors.lastName)===null||_errors$lastName2===void 0?void 0:_errors$lastName2.message,placeholder:\"Shevchenko\"})),/*#__PURE__*/_jsx(UserInput,_objectSpread(_objectSpread({section:\"Name\",error:Boolean((_errors$name=errors.name)===null||_errors$name===void 0?void 0:_errors$name.message),errorMessage:(_errors$name2=errors.name)===null||_errors$name2===void 0?void 0:_errors$name2.message},register(\"name\")),{},{placeholder:\"Taras\"})),/*#__PURE__*/_jsx(UserInput,_objectSpread(_objectSpread({section:\"Surname\",error:Boolean((_errors$surname=errors.surname)===null||_errors$surname===void 0?void 0:_errors$surname.message),errorMessage:(_errors$surname2=errors.surname)===null||_errors$surname2===void 0?void 0:_errors$surname2.message},register(\"surname\")),{},{placeholder:\"Grigorovich\"})),/*#__PURE__*/_jsx(UserInput,_objectSpread(_objectSpread({section:\"Post index\",error:Boolean((_errors$postIndex=errors.postIndex)===null||_errors$postIndex===void 0?void 0:_errors$postIndex.message),errorMessage:(_errors$postIndex2=errors.postIndex)===null||_errors$postIndex2===void 0?void 0:_errors$postIndex2.message},register(\"postIndex\")),{},{placeholder:\"20210\"})),/*#__PURE__*/_jsx(UserInput,_objectSpread(_objectSpread({section:\"Region\",error:Boolean((_errors$region=errors.region)===null||_errors$region===void 0?void 0:_errors$region.message),errorMessage:(_errors$region2=errors.region)===null||_errors$region2===void 0?void 0:_errors$region2.message},register(\"region\")),{},{placeholder:\"Cherkasy region\"})),/*#__PURE__*/_jsx(UserInput,_objectSpread(_objectSpread({section:\"Street\",error:Boolean((_errors$street=errors.street)===null||_errors$street===void 0?void 0:_errors$street.message),errorMessage:(_errors$street2=errors.street)===null||_errors$street2===void 0?void 0:_errors$street2.message},register(\"street\")),{},{placeholder:\"Shkilniy provulok\"})),/*#__PURE__*/_jsx(UserInput,_objectSpread(_objectSpread({section:\"City\",error:Boolean((_errors$city=errors.city)===null||_errors$city===void 0?void 0:_errors$city.message),errorMessage:(_errors$city2=errors.city)===null||_errors$city2===void 0?void 0:_errors$city2.message},register(\"city\")),{},{placeholder:\"Moryntsi\"})),/*#__PURE__*/_jsx(UserInput,_objectSpread(_objectSpread({section:\"Phone number\",error:Boolean((_errors$phoneNumber=errors.phoneNumber)===null||_errors$phoneNumber===void 0?void 0:_errors$phoneNumber.message),errorMessage:(_errors$phoneNumber2=errors.phoneNumber)===null||_errors$phoneNumber2===void 0?void 0:_errors$phoneNumber2.message},register(\"phoneNumber\")),{},{type:\"tel\",placeholder:\"38068888888\"})),/*#__PURE__*/_jsx(UserInput,_objectSpread(_objectSpread({section:\"Email\",error:Boolean((_errors$email=errors.email)===null||_errors$email===void 0?void 0:_errors$email.message),errorMessage:(_errors$email2=errors.email)===null||_errors$email2===void 0?void 0:_errors$email2.message},register(\"email\")),{},{type:\"email\",placeholder:\"shevchenko@gmail.com\"})),/*#__PURE__*/_jsx(Buttons,{disabled:!isValid,setVisible:setVisible})]});};export default UserAddressBlock;","map":{"version":3,"names":["React","useForm","yupResolver","useSelector","axios","addressSchema","UserInput","Buttons","jsx","_jsx","jsxs","_jsxs","UserAddressBlock","_ref","_errors$lastName","_errors$lastName2","_errors$name","_errors$name2","_errors$surname","_errors$surname2","_errors$postIndex","_errors$postIndex2","_errors$region","_errors$region2","_errors$street","_errors$street2","_errors$city","_errors$city2","_errors$phoneNumber","_errors$phoneNumber2","_errors$email","_errors$email2","setVisible","_useSelector","state","auth","data","_id","_useForm","defaultValues","lastName","name","surname","postIndex","region","street","city","phoneNumber","email","resolver","mode","register","handleSubmit","_useForm$formState","formState","errors","isValid","onSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","values","wrap","_callee$","_context","prev","next","post","concat","window","location","reload","stop","_x","apply","arguments","className","children","_objectSpread","section","error","Boolean","message","errorMessage","placeholder","type","disabled"],"sources":["/Users/macair/Documents/Codding/Projects/Sneakers-store/client/src/components/ui/AccountComponents/UserAddressBlock.jsx"],"sourcesContent":["import React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { useSelector } from \"react-redux\";\n\nimport \"./styles.css\";\n\nimport axios from \"../../../axios\";\nimport { addressSchema } from \"../../../schemas\";\n\nimport { UserInput } from \"../../forms/index\";\n\nimport Buttons from \"../Buttons/Buttons\";\n\nconst UserAddressBlock = ({ setVisible }) => {\n  const { _id } = useSelector((state) => state.auth.data);\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isValid },\n  } = useForm({\n    defaultValues: {\n      lastName: \"\",\n      name: \"\",\n      surname: \"\",\n      postIndex: \"\",\n      region: \"\",\n      street: \"\",\n      city: \"\",\n      phoneNumber: \"\",\n      email: \"\",\n    },\n    resolver: yupResolver(addressSchema),\n    mode: \"onChange\",\n  });\n\n  const onSubmit = async (values) => {\n    await axios.post(`/user/address:${_id}`, values);\n\n    window.location.reload();\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)} className=\"address-data-form\">\n      <UserInput\n        section={\"Last name\"}\n        {...register(\"lastName\")}\n        error={Boolean(errors.lastName?.message)}\n        errorMessage={errors.lastName?.message}\n        placeholder={\"Shevchenko\"}\n      />\n      <UserInput\n        section={\"Name\"}\n        error={Boolean(errors.name?.message)}\n        errorMessage={errors.name?.message}\n        {...register(\"name\")}\n        placeholder={\"Taras\"}\n      />\n      <UserInput\n        section={\"Surname\"}\n        error={Boolean(errors.surname?.message)}\n        errorMessage={errors.surname?.message}\n        {...register(\"surname\")}\n        placeholder={\"Grigorovich\"}\n      />\n      <UserInput\n        section={\"Post index\"}\n        error={Boolean(errors.postIndex?.message)}\n        errorMessage={errors.postIndex?.message}\n        {...register(\"postIndex\")}\n        placeholder={\"20210\"}\n      />\n      <UserInput\n        section={\"Region\"}\n        error={Boolean(errors.region?.message)}\n        errorMessage={errors.region?.message}\n        {...register(\"region\")}\n        placeholder={\"Cherkasy region\"}\n      />\n      <UserInput\n        section={\"Street\"}\n        error={Boolean(errors.street?.message)}\n        errorMessage={errors.street?.message}\n        {...register(\"street\")}\n        placeholder={\"Shkilniy provulok\"}\n      />\n      <UserInput\n        section={\"City\"}\n        error={Boolean(errors.city?.message)}\n        errorMessage={errors.city?.message}\n        {...register(\"city\")}\n        placeholder={\"Moryntsi\"}\n      />\n      <UserInput\n        section={\"Phone number\"}\n        error={Boolean(errors.phoneNumber?.message)}\n        errorMessage={errors.phoneNumber?.message}\n        {...register(\"phoneNumber\")}\n        type={\"tel\"}\n        placeholder={\"38068888888\"}\n      />\n      <UserInput\n        section={\"Email\"}\n        error={Boolean(errors.email?.message)}\n        errorMessage={errors.email?.message}\n        {...register(\"email\")}\n        type={\"email\"}\n        placeholder={\"shevchenko@gmail.com\"}\n      />\n      <Buttons disabled={!isValid} setVisible={setVisible} />\n    </form>\n  );\n};\n\nexport default UserAddressBlock;\n"],"mappings":"2cAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,OAAO,KAAQ,iBAAiB,CACzC,OAASC,WAAW,KAAQ,yBAAyB,CACrD,OAASC,WAAW,KAAQ,aAAa,CAEzC,MAAO,cAAc,CAErB,MAAO,CAAAC,KAAK,KAAM,gBAAgB,CAClC,OAASC,aAAa,KAAQ,kBAAkB,CAEhD,OAASC,SAAS,KAAQ,mBAAmB,CAE7C,MAAO,CAAAC,OAAO,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEzC,GAAM,CAAAC,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAAC,IAAA,CAAuB,KAAAC,gBAAA,CAAAC,iBAAA,CAAAC,YAAA,CAAAC,aAAA,CAAAC,eAAA,CAAAC,gBAAA,CAAAC,iBAAA,CAAAC,kBAAA,CAAAC,cAAA,CAAAC,eAAA,CAAAC,cAAA,CAAAC,eAAA,CAAAC,YAAA,CAAAC,aAAA,CAAAC,mBAAA,CAAAC,oBAAA,CAAAC,aAAA,CAAAC,cAAA,IAAjB,CAAAC,UAAU,CAAAnB,IAAA,CAAVmB,UAAU,CACpC,IAAAC,YAAA,CAAgB9B,WAAW,CAAC,SAAC+B,KAAK,QAAK,CAAAA,KAAK,CAACC,IAAI,CAACC,IAAI,GAAC,CAA/CC,GAAG,CAAAJ,YAAA,CAAHI,GAAG,CAEX,IAAAC,QAAA,CAIIrC,OAAO,CAAC,CACVsC,aAAa,CAAE,CACbC,QAAQ,CAAE,EAAE,CACZC,IAAI,CAAE,EAAE,CACRC,OAAO,CAAE,EAAE,CACXC,SAAS,CAAE,EAAE,CACbC,MAAM,CAAE,EAAE,CACVC,MAAM,CAAE,EAAE,CACVC,IAAI,CAAE,EAAE,CACRC,WAAW,CAAE,EAAE,CACfC,KAAK,CAAE,EACT,CAAC,CACDC,QAAQ,CAAE/C,WAAW,CAACG,aAAa,CAAC,CACpC6C,IAAI,CAAE,UACR,CAAC,CAAC,CAjBAC,QAAQ,CAAAb,QAAA,CAARa,QAAQ,CACRC,YAAY,CAAAd,QAAA,CAAZc,YAAY,CAAAC,kBAAA,CAAAf,QAAA,CACZgB,SAAS,CAAIC,MAAM,CAAAF,kBAAA,CAANE,MAAM,CAAEC,OAAO,CAAAH,kBAAA,CAAPG,OAAO,CAiB9B,GAAM,CAAAC,QAAQ,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,MAAM,SAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACtB,CAAAhE,KAAK,CAACiE,IAAI,kBAAAC,MAAA,CAAkBjC,GAAG,EAAI0B,MAAM,CAAC,QAEhDQ,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAAC,wBAAAP,QAAA,CAAAQ,IAAA,MAAAZ,OAAA,GAC1B,kBAJK,CAAAL,QAAQA,CAAAkB,EAAA,SAAAjB,KAAA,CAAAkB,KAAA,MAAAC,SAAA,OAIb,CAED,mBACElE,KAAA,SAAM8C,QAAQ,CAAEL,YAAY,CAACK,QAAQ,CAAE,CAACqB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eACnEtE,IAAA,CAACH,SAAS,CAAA0E,aAAA,CAAAA,aAAA,EACRC,OAAO,CAAE,WAAY,EACjB9B,QAAQ,CAAC,UAAU,CAAC,MACxB+B,KAAK,CAAEC,OAAO,EAAArE,gBAAA,CAACyC,MAAM,CAACf,QAAQ,UAAA1B,gBAAA,iBAAfA,gBAAA,CAAiBsE,OAAO,CAAE,CACzCC,YAAY,EAAAtE,iBAAA,CAAEwC,MAAM,CAACf,QAAQ,UAAAzB,iBAAA,iBAAfA,iBAAA,CAAiBqE,OAAQ,CACvCE,WAAW,CAAE,YAAa,EAC3B,CAAC,cACF7E,IAAA,CAACH,SAAS,CAAA0E,aAAA,CAAAA,aAAA,EACRC,OAAO,CAAE,MAAO,CAChBC,KAAK,CAAEC,OAAO,EAAAnE,YAAA,CAACuC,MAAM,CAACd,IAAI,UAAAzB,YAAA,iBAAXA,YAAA,CAAaoE,OAAO,CAAE,CACrCC,YAAY,EAAApE,aAAA,CAAEsC,MAAM,CAACd,IAAI,UAAAxB,aAAA,iBAAXA,aAAA,CAAamE,OAAQ,EAC/BjC,QAAQ,CAAC,MAAM,CAAC,MACpBmC,WAAW,CAAE,OAAQ,EACtB,CAAC,cACF7E,IAAA,CAACH,SAAS,CAAA0E,aAAA,CAAAA,aAAA,EACRC,OAAO,CAAE,SAAU,CACnBC,KAAK,CAAEC,OAAO,EAAAjE,eAAA,CAACqC,MAAM,CAACb,OAAO,UAAAxB,eAAA,iBAAdA,eAAA,CAAgBkE,OAAO,CAAE,CACxCC,YAAY,EAAAlE,gBAAA,CAAEoC,MAAM,CAACb,OAAO,UAAAvB,gBAAA,iBAAdA,gBAAA,CAAgBiE,OAAQ,EAClCjC,QAAQ,CAAC,SAAS,CAAC,MACvBmC,WAAW,CAAE,aAAc,EAC5B,CAAC,cACF7E,IAAA,CAACH,SAAS,CAAA0E,aAAA,CAAAA,aAAA,EACRC,OAAO,CAAE,YAAa,CACtBC,KAAK,CAAEC,OAAO,EAAA/D,iBAAA,CAACmC,MAAM,CAACZ,SAAS,UAAAvB,iBAAA,iBAAhBA,iBAAA,CAAkBgE,OAAO,CAAE,CAC1CC,YAAY,EAAAhE,kBAAA,CAAEkC,MAAM,CAACZ,SAAS,UAAAtB,kBAAA,iBAAhBA,kBAAA,CAAkB+D,OAAQ,EACpCjC,QAAQ,CAAC,WAAW,CAAC,MACzBmC,WAAW,CAAE,OAAQ,EACtB,CAAC,cACF7E,IAAA,CAACH,SAAS,CAAA0E,aAAA,CAAAA,aAAA,EACRC,OAAO,CAAE,QAAS,CAClBC,KAAK,CAAEC,OAAO,EAAA7D,cAAA,CAACiC,MAAM,CAACX,MAAM,UAAAtB,cAAA,iBAAbA,cAAA,CAAe8D,OAAO,CAAE,CACvCC,YAAY,EAAA9D,eAAA,CAAEgC,MAAM,CAACX,MAAM,UAAArB,eAAA,iBAAbA,eAAA,CAAe6D,OAAQ,EACjCjC,QAAQ,CAAC,QAAQ,CAAC,MACtBmC,WAAW,CAAE,iBAAkB,EAChC,CAAC,cACF7E,IAAA,CAACH,SAAS,CAAA0E,aAAA,CAAAA,aAAA,EACRC,OAAO,CAAE,QAAS,CAClBC,KAAK,CAAEC,OAAO,EAAA3D,cAAA,CAAC+B,MAAM,CAACV,MAAM,UAAArB,cAAA,iBAAbA,cAAA,CAAe4D,OAAO,CAAE,CACvCC,YAAY,EAAA5D,eAAA,CAAE8B,MAAM,CAACV,MAAM,UAAApB,eAAA,iBAAbA,eAAA,CAAe2D,OAAQ,EACjCjC,QAAQ,CAAC,QAAQ,CAAC,MACtBmC,WAAW,CAAE,mBAAoB,EAClC,CAAC,cACF7E,IAAA,CAACH,SAAS,CAAA0E,aAAA,CAAAA,aAAA,EACRC,OAAO,CAAE,MAAO,CAChBC,KAAK,CAAEC,OAAO,EAAAzD,YAAA,CAAC6B,MAAM,CAACT,IAAI,UAAApB,YAAA,iBAAXA,YAAA,CAAa0D,OAAO,CAAE,CACrCC,YAAY,EAAA1D,aAAA,CAAE4B,MAAM,CAACT,IAAI,UAAAnB,aAAA,iBAAXA,aAAA,CAAayD,OAAQ,EAC/BjC,QAAQ,CAAC,MAAM,CAAC,MACpBmC,WAAW,CAAE,UAAW,EACzB,CAAC,cACF7E,IAAA,CAACH,SAAS,CAAA0E,aAAA,CAAAA,aAAA,EACRC,OAAO,CAAE,cAAe,CACxBC,KAAK,CAAEC,OAAO,EAAAvD,mBAAA,CAAC2B,MAAM,CAACR,WAAW,UAAAnB,mBAAA,iBAAlBA,mBAAA,CAAoBwD,OAAO,CAAE,CAC5CC,YAAY,EAAAxD,oBAAA,CAAE0B,MAAM,CAACR,WAAW,UAAAlB,oBAAA,iBAAlBA,oBAAA,CAAoBuD,OAAQ,EACtCjC,QAAQ,CAAC,aAAa,CAAC,MAC3BoC,IAAI,CAAE,KAAM,CACZD,WAAW,CAAE,aAAc,EAC5B,CAAC,cACF7E,IAAA,CAACH,SAAS,CAAA0E,aAAA,CAAAA,aAAA,EACRC,OAAO,CAAE,OAAQ,CACjBC,KAAK,CAAEC,OAAO,EAAArD,aAAA,CAACyB,MAAM,CAACP,KAAK,UAAAlB,aAAA,iBAAZA,aAAA,CAAcsD,OAAO,CAAE,CACtCC,YAAY,EAAAtD,cAAA,CAAEwB,MAAM,CAACP,KAAK,UAAAjB,cAAA,iBAAZA,cAAA,CAAcqD,OAAQ,EAChCjC,QAAQ,CAAC,OAAO,CAAC,MACrBoC,IAAI,CAAE,OAAQ,CACdD,WAAW,CAAE,sBAAuB,EACrC,CAAC,cACF7E,IAAA,CAACF,OAAO,EAACiF,QAAQ,CAAE,CAAChC,OAAQ,CAACxB,UAAU,CAAEA,UAAW,CAAE,CAAC,EACnD,CAAC,CAEX,CAAC,CAED,cAAe,CAAApB,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}